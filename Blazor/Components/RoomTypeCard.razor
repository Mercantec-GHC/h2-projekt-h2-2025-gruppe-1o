@using DomainModels.DTOs

<div class="card h-100 shadow-sm">
    <img src="@GetImageUrlForRoom(RoomType.Name)" class="card-img-top" alt="Billede af @RoomType.Name" style="height: 200px; object-fit: cover;">
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">@RoomType.Name</h5>
        <p class="card-text text-muted flex-grow-1">@RoomType.Description</p>
        <p class="card-text">Fra <strong>@RoomType.BasePrice.ToString("C0")</strong> / nat</p>

        <div class="mt-auto">
            <button class="btn btn-primary w-100" @onclick="HandleButtonClick">Se detaljer</button>
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public RoomTypeGetDto RoomType { get; set; }

    [Parameter]
    public EventCallback<int> OnButtonClicked { get; set; }

    private async Task HandleButtonClick()
    {
        await OnButtonClicked.InvokeAsync(RoomType.Id);
    }

    // Denne metode genbruger billed-logikken
    private string GetImageUrlForRoom(string roomName)
    {
        return roomName switch
        {
            "Standard Værelse" => "/images/room-standard.png",
            "Deluxe Suite" => "/images/room-deluxe.png",
            "Presidential Suite" => "/images/room-presidential.png",
            _ => "/images/room-default.png"
        };
    }
}