<button type="@(IsSubmit ? "submit" : "button")" class="btn @ButtonClass" @onclick="HandleClick">
    @ChildContent
</button>

@code {
    [Parameter]
    public ButtonType Type { get; set; } = ButtonType.Primary;

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public EventCallback<MouseEventArgs> OnClick { get; set; }

    [Parameter]
    public bool IsSubmit { get; set; }

    private string ButtonClass => Type switch
    {
        ButtonType.Primary => "btn-primary",
        ButtonType.Accent => "btn-accent",
        ButtonType.Secondary => "btn-secondary",
        _ => "btn-primary"
    };

    private async Task HandleClick(MouseEventArgs e)
    {
        if (!IsSubmit)
        {
            await OnClick.InvokeAsync(e);
        }
        // Hvis IsSubmit er true, gør vi intet her og lader EditForm's OnValidSubmit tage over.
    }

    public enum ButtonType
    {
        Primary,
        Accent,
        Secondary
    }
}